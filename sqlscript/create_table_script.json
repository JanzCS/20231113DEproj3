{
	"name": "create_table_script",
	"properties": {
		"content": {
			"query": "CREATE SCHEMA Prod;\nGO\n\nCREATE TABLE Prod.DimAgency(\n    agency_code VARCHAR(8000),\n    agency_name VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(agency_code)\n);\n\nCREATE TABLE Prod.DimCongressionalDistrict(\n    cd_original VARCHAR(8000),\n    cd_code BIGINT,--VARCHAR(8000),\n    party_2018 VARCHAR(8000),\n    party_2020 VARCHAR(8000),\n    party_2022 VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(cd_code)\n);\n\nCREATE TABLE Prod.DimHighlyCompensatedOfficer(\n    hco_name VARCHAR(8000),\n    hco_code BIGINT\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(hco_code)\n);\n\nCREATE TABLE Prod.DimCountry(\n    country_code VARCHAR(8000),\n    country_name VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(country_code)\n);\n\nCREATE TABLE Prod.DimRecipient(\n    recipient_uei VARCHAR(8000),\n    recipient_name_raw VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(recipient_uei)\n);\n\nCREATE TABLE Prod.DimState (\n    state_abbreviation VARCHAR(8000),\n    state_name VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(state_abbreviation)\n);\n\nCREATE TABLE Prod.DimCounty(\n    county_fips VARCHAR(8000),\n    less_than_hs_17_21 INT,\n    hs_only_17_21 INT,\n    some_college_17_21 INT,\n    bach_or_higher_17_21 INT,\n    perc_less_than_hs_17_21 FLOAT(53),\n    perc_hs_only_17_21 FLOAT(53),\n    perc_some_college_17_21 FLOAT(53),\n    perc_bach_or_higher_17_21 FLOAT(53),\n    stname VARCHAR(8000),\n    ctyname VARCHAR(8000),\n    gdp_2019 INT, \n    gdp_2020 INT, \n    gdp_2021 INT,\n    gdp_2022 INT, \n    popestimate2019 INT,\n    popestimate2020 INT,\n    popestimate2021 INT,\n    popestimate2022 INT,\n    party_2016 VARCHAR(8000),\n    party_2020 VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(county_fips)\n);\n\nCREATE TABLE Prod.DimDate(\n    date_key INT,\n    calendar_date DATE,\n    calendar_year INT,\n    calendar_month VARCHAR(15),\n    month_of_year INT,\n    calendar_day VARCHAR(15),\n    day_of_week INT,\n    is_weekday VARCHAR(12),\n    day_of_month INT,\n    last_day_of_month VARCHAR(12),\n    week_of_year_iso INT,\n    quarter_of_year INT,\n    fiscal_year INT,\n    fiscal_month INT\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(date_key)\n);\n\nCREATE TABLE Prod.FactAssistance(\n    transaction_unique_key VARCHAR(8000),\n    award_unique_key VARCHAR(8000),\n    cfda_number VARCHAR(8000),\n    face_value_of_loan DECIMAL(18,2),\n    total_face_value_of_loan DECIMAL(18,2),\n    original_loan_subsidy_cost DECIMAL(18,2),\n    total_loan_subsidy_cost DECIMAL(18,2),\n    primary_place_of_performance_scope_code BIGINT--VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = HASH(transaction_unique_key),\n    CLUSTERED COLUMNSTORE INDEX\n);\n\nCREATE TABLE Prod.FactTransaction(\n    transaction_unique_key VARCHAR(8000),\n    total_outlayed_amount_for_overall_award DECIMAL(18,2),\n    prime_award_transaction_place_of_performance_county_fips_code VARCHAR(8000),\n    highly_compensated_officer_4_amount DECIMAL(18,2),\n    outlayed_amount_from_COVID_19_supplementals_for_overall_award VARCHAR(8000),\n    modification_number VARCHAR(8000), -- Consider Removal\n    funding_office_code VARCHAR(8000),\n    prime_award_transaction_place_of_performance_state_fips_code VARCHAR(8000),\n    award_type VARCHAR(8000),\n    recipient_uei VARCHAR(8000),\n    awarding_agency_code VARCHAR(8000),\n    primary_place_of_performance_country_code VARCHAR(8000),\n    funding_agency_code VARCHAR(8000),\n    action_type_code VARCHAR(8000),\n    highly_compensated_officer_2_amount DECIMAL(18,2),\n    recipient_parent_uei VARCHAR(8000), \n    highly_compensated_officer_1_amount DECIMAL(18,2),\n    highly_compensated_officer_3_amount DECIMAL(18,2),\n    recipient_state_code VARCHAR(8000),\n    program_activities_funding_this_award VARCHAR(8000),\n    award_unique_key VARCHAR(8000),\n    prime_award_transaction_place_of_performance_cd_original VARCHAR(8000),\n    recipient_city_name VARCHAR(8000), \n    prime_award_transaction_recipient_cd_current VARCHAR(8000),\n    total_obligated_amount DECIMAL(18,2),\n    highly_compensated_officer_5_amount DECIMAL(18,2),\n    obligated_amount_from_COVID_19_supplementals_for_overall_award VARCHAR(8000),\n    recipient_country_code VARCHAR(8000),\n    prime_award_transaction_recipient_county_fips_code VARCHAR(8000),\n    awarding_office_code VARCHAR(8000),\n    recipient_parent_name_raw VARCHAR(8000),\n    prime_award_transaction_recipient_state_fips_code VARCHAR(8000),\n    federal_action_obligation DECIMAL(18,2),\n    action_date_key INT,\n    last_modified_key INT,\n    recipient_cd_code BIGINT,\n    place_of_performance_cd_code BIGINT,\n    highly_compensated_officer_1_code BIGINT,\n    highly_compensated_officer_2_code BIGINT,\n    highly_compensated_officer_3_code BIGINT,\n    highly_compensated_officer_4_code BIGINT,\n    highly_compensated_officer_5_code BIGINT\n)\nWITH\n(\n    DISTRIBUTION = HASH(transaction_unique_key),\n    CLUSTERED COLUMNSTORE INDEX\n);\n\nCREATE TABLE Prod.DimBusinessSize\n(\n    business_size_key INT,\n    business_size_code CHAR(1) NOT NULL,\n    business_size VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(business_size_key)\n);\n\nCREATE TABLE Prod.DimNAICS\n(\n    naics_key INT,\n    naics_code VARCHAR(8000),\n    naics_description VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(naics_key)\n);\n\nCREATE TABLE Prod.DimCountryOfOrigin\n(\n    country_of_origin_key INT,\n    country_of_origin_code VARCHAR(8000),\n    country_of_origin VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(country_of_origin_key)\n);\n\nCREATE TABLE Prod.FactContract\n(\n    transaction_unique_key VARCHAR(8000) NOT NULL,\n    award_unique_key VARCHAR(8000),\n    naics_key INT,\n    country_of_origin_key INT,\n    business_size_key INT\n   \n)\nWITH\n(\n    DISTRIBUTION = HASH(transaction_unique_key),\n    CLUSTERED COLUMNSTORE INDEX\n);\n\nCREATE TABLE Prod.DimCFDA\n(\n    cfda_number VARCHAR(8000) NOT NULL,\n    cfda_title VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(cfda_number)\n);\n\nCREATE TABLE Prod.DimOffice\n(\n    office_code VARCHAR(8000),\n    office_name VARCHAR(8000)\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(office_code)\n);\n\nCREATE TABLE Prod.DimPrimaryPlaceOfPerformanceScope\n(\n    primary_place_of_performance_scope VARCHAR(8000),\n    primary_place_of_performance_scope_code BIGINT\n)\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED INDEX(primary_place_of_performance_scope_code)\n);",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "Project3DW",
				"poolName": "Project3DW"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}