{
	"name": "Contract",
	"properties": {
		"content": {
			"query": "\nCREATE TABLE dbo.DimBusiness\n(\n    business_size_key INT,\n    business_size_code VARCHAR(100) NOT NULL,\n    business_size VARCHAR(50)\n)\n\nCOPY INTO [dbo].[DimCBusiness]\nFROM 'https://20231113desa.dfs.core.windows.net/gold-layer/project=3/usa_spending/business_size/*.parquet'\nWITH (\n    FILE_Type = 'parquet',\n    CREDENTIAL = (IDENTITY='Managed Identity')\n)\n\n/*\nWITH\n(\n    DISTRIBUTION = REPLICATE,\n    CLUSTERED COLUMNSTORE INDEX\n);\n*/\n\n\nCREATE TABLE dbo.DimDomesticOrForeignEntity\n(\n    domestic_or_foreign_entity_key INT IDENTITY PRIMARY KEY,\n    domestic_or_foreign_entity_code VARCHAR(100) NOT NULL,\n    domestic_or_foreign_entity VARCHAR(MAX)\n)\n\nCREATE TABLE dbo.DimNAICS\n(\n    naics_key INT IDENTITY PRIMARY KEY,\n    naics_code VARCHAR(50) NOT NULL,\n    naics_description VARCHAR(MAX)\n)\n\nCREATE TABLE dbo.DImCountryOfOrigin\n(\n    country_of_origin_key INT IDENTITY PRIMARY KEY,\n    country_of_origin_code VARCHAR(5) NOT NULL,\n    country_of_origin VARCHAR(30)\n)\n\n\nCREATE TABLE dbo.DimForeignFunding\n(\n    foreign_funding_key INT IDENTITY PRIMARY KEY,\n    foreign_funding_code VARCHAR(20) NOT NULL,\n    foreign_funding_description VARCHAR(MAX)\n)\n\nCREATE TABLE dbo.DimProductOrService\n(\n    product_or_service_key INT IDENTITY PRIMARY KEY,\n    product_or_service_key VARCHAR(20) NOT NULL,\n    product_or_service_description VARCHAR(MAX)\n)\n\nCREATE TABLE dbo.FactContract\n(\n    transaction_unique_key VARCHAR(50) NOT NULL,\n    award_unique_key VARCHAR(30),\n    naics_key INT,\n    country_of_origin_key INT,\n    business_size_key INT\n   \n)\n\n\n\n\n\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "Project3DW",
				"poolName": "Project3DW"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}